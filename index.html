<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IoT Home Security Monitoring System</title>
  <style>
    :root {
      --card-bg: #ffffff;
      --page-bg: #f3f6fb;
      --accent: #5061f5;
      --muted: #6b8077;
      --radius: 12px;
      --shadow: 0 6px 18px rgba(16,24,40,0.08);
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: var(--page-bg);
      color: #0f172a;
      padding: 32px;
    }
    button {
      border: 0;
      padding: 10px 18px;
      border-radius: 10px;
      background: var(--accent);
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all .2s ease;
    }
    button:hover { background: #3243d6; }

    .container {
      max-width: 980px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }
    .profile-card {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
      display: flex;
      gap: 16px;
      align-items: center;
    }
    .avatar {
      width: 96px;
      height: 96px;
      border-radius: 14px;
      overflow: hidden;
    }
    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .info { flex: 1; }

    .materials-list {
      max-width: 900px;
      margin: 40px auto;
      text-align: left;
    }
    .materials-list h3 { margin-top: 20px; }
    .materials-list ul {
      background: #fff;
      padding: 16px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .materials-list ul li { margin: 6px 0; }

    .sensors {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin-top: 40px;
    }
    .sensor-card {
      background: #fff;
      padding: 16px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .sensor-status.ok { color: green; font-weight: 600; }
    .sensor-status.alert { color: red; font-weight: 600; }

    .code-block {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 16px;
      border-radius: 12px;
      font-family: monospace;
      overflow-x: auto;
      white-space: pre;
      box-shadow: var(--shadow);
      margin-top: 20px;
    }

    h1 {
      text-align: center;
      margin-top: 50px;
    }

    /* COMPONENT GALLERY STYLES */
    .component-gallery {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 20px;
      align-items: center;
    }
    .component-gallery .row {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }
    .component-gallery .avatar {
      width: 150px;
      height: 150px;
      border-radius: 14px;
      overflow: hidden;
      box-shadow: var(--shadow);
    }
    .component-gallery img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .caption {
      text-align: center;
      font-weight: 600;
      color: #333;
      margin-top: 6px;
    }
  </style>
</head>
<body>

  <!-- PROFILES -->
  <h1>PROFILES</h1>
  <div class="container">
    <article class="profile-card">
      <figure class="avatar"><img src="60d36c27-1b63-4c0b-9a0d-3830bf3c77b5.jpg" alt="Ruth"></figure>
      <div class="info">
        <h2>Ruth NIYOGUSHIMWA</h2>
        <p>IoT System Engineer ‚Äî Builds home security systems with automation and surveillance.</p>
        <button onclick="alert('Contact Ruth üìû 0790634523')">Contact</button>
      </div>
    </article>

    <article class="profile-card">
      <figure class="avatar"><img src="1592b05d-ea32-46b1-b85b-a14e0e368a47.jpg" alt="Samuel"></figure>
      <div class="info">
        <h2>IRUMVA Samuel</h2>
        <p>IoT Engineer ‚Äî Designs and debugs firmware for embedded devices and sensors.</p>
        <button onclick="alert('Contact Samuel üìû 0798456789')">Contact</button>
      </div>
    </article>
  </div>

  <!-- MATERIALS & DESCRIPTION -->
  <h1>INTRODUCTION</h1>
  <div class="materials-list">
    <h3>üìñ Project Description</h3>
    <p>
      The Home Security Monitoring System is an <b>IoT-based solution</b> providing continuous <b>real-time monitoring</b> of home environments.
      Its main goal is to detect threats like unauthorized access, fire, smoke, gas leaks, and abnormal electrical currents.
      Through <b>data acquisition</b> from sensors, the ESP32 processes and visualizes data on a digital dashboard, ensuring early alerts and safety.
    </p>
    <p>
      The system uses <b>IoT principles</b> with ESP32 as the edge device collecting data from PIR motion sensors, smoke and gas sensors,
      flame detectors, door/window sensors, and a current sensor. Each component functions as a <b>data node</b>, sending status updates
      for analysis. The camera module enables <b>remote surveillance</b>. Breadboards, jumper wires, and a 5V DC supply ensure connectivity
      and stable operation.
    </p>
    <p>
      Societal benefits include improved home security, prevention of theft, and detection of health hazards.
      The <b>IoT dashboard</b> allows users to respond in real-time, applying <b>automation</b> and <b>remote monitoring</b> to create
      safer and smarter living environments.
    </p>
    <style>
      .block-diagram img {
        width: 60%;      /* adjust this percentage to make it smaller or larger */
        max-width: 400px; /* prevents it from being too large */
        display: block;
        margin: 10px auto; /* centers the image */
        border-radius: 10px; /* optional: gives smooth corners */
      }
    </style>
    
    <div class="block-diagram">
      <h3>üìä Block Diagram of the IoT Home Security Monitoring System</h3>
      <img src="block diagram.png" alt="Block Diagram of Home Security Monitoring System">
      <p>Figure: Block Diagram showing system architecture and data flow.</p>
    </div>
    
    <h3>üñºÔ∏è Component Used Images And description</h3>
    <div class="component-gallery">
      <div class="row">
        <div>
          <figure class="avatar"><img src="WhatsApp Image 2025-10-27 at 02.12.39.jpeg" alt="ESP32"></figure>
          <div class="caption">ESP32</div>
        </div>
        <div>
          <figure class="avatar"><img src="WhatsApp Image 2025-10-27 at 02.12.38 (1).jpeg" alt="PIR Sensor"></figure>
          <div class="caption">PIR Sensor</div>
        </div>
        <div>
          <figure class="avatar"><img src="WhatsApp Image 2025-10-27 at 02.12.38 (3).jpeg" alt="Smoke Sensor"></figure>
          <div class="caption">Smoke Sensor</div>
        </div>
        <div>
          <figure class="avatar"><img src="WhatsApp Image 2025-10-27 at 02.12.38 (2).jpeg" alt="Infrared Sensor"></figure>
          <div class="caption">Infrared Sensor</div>
        </div>
        
      </div>
      <div class="row">
        <div>
          <figure class="avatar"><img src="WhatsApp Image 2025-10-27 at 02.12.38.jpeg" alt="Buzzer"></figure>
          <div class="caption">Buzzer</div>
        </div>
        <div>
          <figure class="avatar"><img src="WhatsApp Image 2025-10-27 at 02.48.04.jpeg" alt="LEDs"></figure>
          <div class="caption">LEDs</div>
        </div>
        <div>
          <figure class="avatar"><img src="WhatsApp Image 2025-10-27 at 02.46.14.jpeg" alt="Breadboard"></figure>
          <div class="caption">Breadboard and jumpers</div>
        </div>
      </div>
    </div>

    <p>
      In our project called Home Security Monitoring System, which enables the user to
      monitor home safety and security remotely and in real-time, we used the above components 
      to ensure proper functionality. The microcontroller is the main and central component 
      controlling the whole system, while the PIR motion sensor detects intruders, the smoke 
      sensor detects harmful smoke, and the infrared sensor detects obstacles or unauthorized 
      movements. The buzzer and LEDs serve as indicators to alert users, and the breadboard 
      with jumper wires ensures stable connections. Finally, a power supply provides energy 
      to all components.
    </p>

    <h3>üíª ESP32 Controller Code</h3>
    <div class="code-block" id="espCode">
<pre>
#include <Adafruit_MQTT.h>
#include <Adafruit_MQTT_Client.h>
#include <WiFi.h>

#define WIFI_SSID "row"
#define WIFI_PASS "1234567890"
#define AIO_SERVER "io.adafruit.com"
#define AIO_SERVERPORT 1883
#define AIO_USERNAME "fillette12"
#define AIO_KEY "aio_VFsr41vnZ0nsOs6gPmz0oHa5dsrf"
  
#define PIR_PIN     15
#define SMOKE_PIN   19   
#define DOOR_PIN    33
#define BUZZER_PIN  26
#define LED1_PIN    5
#define LED2_PIN    27

#define FLAME_THRESHOLD  600

WiFiClient client;
Adafruit_MQTT_Client mqtt(&client, AIO_SERVER, AIO_SERVERPORT, AIO_USERNAME, AIO_KEY);
Adafruit_MQTT_Publish feedPir = Adafruit_MQTT_Publish(&mqtt, AIO_USERNAME "/feeds/feedPir");
Adafruit_MQTT_Publish feedSmoke = Adafruit_MQTT_Publish(&mqtt, AIO_USERNAME "/feeds/feedSmoke");
Adafruit_MQTT_Publish feeddoor = Adafruit_MQTT_Publish(&mqtt, AIO_USERNAME "/feeds/feeddoor");

bool prevMotion = LOW;
bool prevSmoke = HIGH;
bool prevDoor = HIGH;

void setup() {
  Serial.begin(115200);
  pinMode(PIR_PIN, INPUT);
  pinMode(SMOKE_PIN, INPUT);
  pinMode(DOOR_PIN, INPUT);
  pinMode(LED1_PIN, OUTPUT);
  pinMode(LED2_PIN, OUTPUT);
  pinMode(BUZZER_PIN, OUTPUT);
  
  digitalWrite(LED1_PIN, LOW);
  digitalWrite(LED2_PIN, LOW);
  digitalWrite(BUZZER_PIN, LOW);
  Serial.println(F("Connecting to WiFi..."));
  WiFi.begin(WIFI_SSID, WIFI_PASS);
  while (WiFi.status() != WL_CONNECTED) {
    delay(1000);
    Serial.print(".");
  }
  Serial.println("\nWiFi connected!");
  
 
  MQTT_connect();
  
  // Read initial sensor states
  prevMotion = digitalRead(PIR_PIN);
  prevSmoke = digitalRead(SMOKE_PIN);
  prevDoor = digitalRead(DOOR_PIN);
  
  
    feedPir.publish("MOTION ON");
  if (prevMotion == HIGH) {
  } else {
    feedPir.publish("MOTION OFF");
  }
  if (prevSmoke == LOW) {
    feedSmoke.publish("SMOKE ON");
  } else {
    feedSmoke.publish("SMOKE OFF");
  }
  if (prevDoor == LOW) {
    feeddoor.publish("DOOR ON");
  } else {
    feeddoor.publish("DOOR OFF");
  }
}

void loop() {
  MQTT_connect();

  int motion = digitalRead(PIR_PIN);
  int smoke  = digitalRead(SMOKE_PIN);
  int doorstatus = digitalRead(DOOR_PIN);

  // Handle PIR motion
  if (motion != prevMotion) {
    if (motion == HIGH) {
      Serial.println("Motion Detected!");
      digitalWrite(LED1_PIN, HIGH);
      feedPir.publish("MOTION DETECTED");
    } else {
      Serial.println("No Motion");
      digitalWrite(LED1_PIN, LOW);
      feedPir.publish("NO MOTION DETECTED");
    }
    prevMotion = motion;
  }

  // Handle smoke sensor
  if (smoke != prevSmoke) {
    if (smoke == LOW) {   
      Serial.println("Smoke Detected!");
      digitalWrite(BUZZER_PIN, HIGH);
      feedSmoke.publish("SMOKE DETECTED");
    } else {
      Serial.println("No Smoke");
      digitalWrite(BUZZER_PIN, LOW);
      feedSmoke.publish("NO SMOKE DETECTED");
    }
    prevSmoke = smoke;
  }

  // Handle door sensor
  if (doorstatus != prevDoor) {
    if (doorstatus == LOW) {
      Serial.println("door opened");
      digitalWrite(LED2_PIN, HIGH);
      feeddoor.publish("DOOR OPENED");
    } else {
      Serial.println("door closed");
      digitalWrite(LED2_PIN, LOW);
      feeddoor.publish("DOOR CLOSED");
    }
    prevDoor = doorstatus;
  }
  
  delay(1000);
}

void MQTT_connect() {
  int8_t ret;

  if (mqtt.connected()) {
    return;
  }
  Serial.print("Connecting to MQTT... ");

  uint8_t retries = 3;
  while ((ret = mqtt.connect()) != 0) { 
    Serial.println(mqtt.connectErrorString(ret));
    Serial.println("Retrying MQTT connection in 5 seconds...");
    mqtt.disconnect();
    delay(5000); 
    retries--;
    if (retries == 0) {
      while (1);
    }
  }
  Serial.println("MQTT Connected!");
}
</pre>
    </div>
    <button onclick="copyCode()">Copy Code</button>
    <h3>Project Running Video</h3>
    <video width="500" height="300" controls>
      <source src="Adafruit.mp4" type="video/mp4">
    </video>
    <h3>Project Running images </h3>
    <ul>
      <figure class="avatar"><img src="WhatsApp Image 2025-10-24 at 04.01.37.jpeg"></figure>
      <figure class="avatar"><img src="WhatsApp Image 2025-10-24 at 04.01.34.jpeg"></figure>
      <figure class="avatar"><img src="WhatsApp Image 2025-10-24 at 04.01.33 (1).jpeg"></figure> 
    </ul>
    
    <h3>üìù Project Summary</h3>
    <p>
      IoT-driven system integrating multiple sensors to detect motion, fire, smoke, gas leaks, and unauthorized access.
      Real-time monitoring with a dashboard ensures safety and reliability for homes.
    </p>
 


</body>
</html>





